{% extends 'searcher/base.html' %}
{% block title %}Home{% endblock title %}
{% load static %}
{% block content %}

    <div class="row align-items-center">
        <div class="homecta col-md-6 col-xl-5 offset-xl-1">
            <h1 class="mb-4">Model of Models</h1>
            <div class="maxout">
                <p>Model of Models is a platform for collaborative language research and teaching, bringing together humanistic methods with technical innovations.</p>
                <p>Model of Models is a project funded by the Andrew W. Mellon Foundation</p>
            </div>

            <div class="btn-toolbar mt-4" role="toolbar" aria-label="Toolbar with button groups">
                <div class="btn-group mr-2" role="group" aria-label="First group">
                    <div class="buttoncontainer orangepipebg">
                        <button onclick="window.location.href='/searcher/search';" class="btn btn-main graybg">Create a Model</button>
                    </div>
                </div>
                <div class="btn-group mr-2" role="group" aria-label="Second group">
                    <div class="buttoncontainer orangepipebg">
                        <button  class="btn btn-main graybg" onclick="window.location.href='/searcher/tutorial';">Start the Tutorial</button>
                    </div>

                </div>
            </div>
        </div>
        <div class="col-md-6 col-xl-5 grayrule pl-md-4 my-5">
            <div class="projintro d-flex align-items-end">
                <h3 class="mr-5 mb-0">Featured Project</h3><a class="ml-5 mb-0" href="/searcher/projects/">VIEW ALL</a>
            </div>
            <div class="projectsnap"><a href='/searcher/projects/'><img id='projectimage' class="grayborder w-100 my-4" src="" /></a></div>
            <div class="projectdescription">
                <h3 class="gent">Dakota Access Pipleline Range Twitter Networks</h3>
                <p>Twitter user interaction networks from the DAPL protests. From archive.org archived tweets</p>
            </div>
        </div>

    </div>
{% endblock content %}

{% block footer_javascript_page %}
    <script>
        $('.main-content').addClass('home')

        /*Quick function for getting random project*/
        
        let data = "{{data|escapejs}}"
        data = JSON.parse(data)
        let keys = Object.keys(data)
        keys = keys.filter(function(d){
        console.log() 
            if (data[d].image == ""){
                return false
            }
            return true
        })
        let random = Math.floor(Math.random() * keys.length)
        let staticpath = "{% static 'searcher/images/project-images/'%}"

        $('#projectimage').attr("src", staticpath + data[keys[random]].image)
        $('.projectdescription h3').text(data[keys[random]].Name)
        $('.projectdescription p').text(data[keys[random]].Info)
    </script>
{% endblock footer_javascript_page %}
