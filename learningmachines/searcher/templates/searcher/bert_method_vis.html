{% extends 'searcher/base.html' %}
{% load static %}
{% block title %}BERT Embeddings Visualization{% endblock title %}

{% block content %}
<div id="nav-wrapper">
  <ul class="nav nav-tabs" id="myTab" role="tablist" style="border-bottom: 3px solid #ccc; padding-top: 5%; margin-bottom: 30px;">
    <li class="nav-item" role="presentation">
      <button class="nav-link" id="Care_Reviews" data-bs-toggle="tab" data-bs-target="#Care_Reviews" type="button" role="tab" aria-controls="carereviews" aria-selected="true" onclick="window.location.href= '?dataset=Care_Reviews'">Care Reviews</button>
    </li>
    <li class="nav-item" role="presentation">
      <button class="nav-link" id="Pubmed" data-bs-toggle="tab" data-bs-target="#Pubmed" type="button" role="tab" aria-controls="pubmed" aria-selected="false" onclick="window.location.href='?dataset=Pubmed'">Pubmed</button>
    </li>
    <li class="nav-item" role="presentation">
      <button class="nav-link" id="TCP" data-bs-toggle="tab" data-bs-target="#TCP" type="button" role="tab" aria-controls="tcp" aria-selected="false" onclick="window.location.href='?dataset=TCP'">TCP</button>
    </li>
    <li class="nav-item" role="presentation">
      <button class="nav-link" id="China_news" data-bs-toggle="tab" data-bs-target="#China_News" type="button" role="tab" aria-controls="chinanews" aria-selected="false" onclick="window.location.href='?dataset=China_news'">China News</button>
    </li>
  </ul>
    <!-- <h1>BERT Embeddings</h1> -->
    
    <div class="tab-content" id="myTabContent">
      <div class="tab-pane fade show active text-center" id="carereviews" role="tabpanel" aria-labelledby="carereviews-tab"></div>
      <div class="tab-pane fade text-center" id="pubmed" role="tabpanel" aria-labelledby="pubmed-tab"></div>
      <div class="tab-pane fade text-center" id="tcp" role="tabpanel" aria-labelledby="tcp-tab"></div>
      <div class="tab-pane fade text-center" id="chinanews" role="tabpanel" aria-labelledby="chinanews-tab"></div>
    </div>

    <div class="cards">
      <div class="card">
        <div class="card__imageContainer">
          <img class="card__image" alt="Las Vegas image" src="https://images.unsplash.com/photo-1550109161-7262e652bf82?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=1080&fit=max">
        </div>
        <!-- <div class="card__details"> 
          <h3>something</h3>
          <h3>something</h3>
          <p>something</p>
        </div> -->
      </div>
      <div class="card">
        <div class="card__imageContainer">
          <img class="card__image" alt="Las Vegas image" src="https://images.unsplash.com/photo-1550109161-7262e652bf82?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=1080&fit=max">
        </div>
        <!-- <div class="card__details"> 
          <h3>something</h3>
          <h3>something</h3>
          <p>something</p>
        </div> -->
      </div>
      <div class="card">
        <div class="card__imageContainer">
          <img class="card__image" alt="Las Vegas image" src="https://images.unsplash.com/photo-1550109161-7262e652bf82?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=1080&fit=max">
        </div>
        <!-- <div class="card__details"> 
          <h3>something</h3>
          <h3>something</h3>
          <p>something</p>
        </div> -->
      </div>
    </div>
</div>

  
    <div id="vis_details" style="display: flex; flex-direction: column; align-items: center;">
      <!-- <h2 id="data">{{ dataset_name }}</h2> -->
                <div id="my_dataviz" style="position: relative;"> 

                              <div class="card" style="
                                                      width: 25rem; position: absolute;
                                                      max-height: 25rem;
                                                      border-radius: 1rem;
                                                      background-color: white;
                                                      z-index: 3;
                                                      left: 60%;
                                                      top:10%;
                                                      overflow-y: auto;">
                                        <div class="card-body">
                                          <h5 class="card-title" id="doc_title"></h5>
                                          <!-- <h6 class="card-subtitle mb-2 text-muted">Card subtitle</h6> -->
                                          <p class="card-text" id="doc_text" style="margin: auto;"></p>
                                          <!-- <a href="#" class="card-link">Card link</a>
                                          <a href="#" class="card-link">Another link</a> -->
                                        </div>
                            </div>
                </div>
          </div>
{% endblock content %}

{% block footer_javascript_page %}
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
<script>let static_url = "{% static 'searcher/bert_method_data/' %}"</script>
<script src="{% static 'searcher/js/jquery.min.js' %}"></script>
<script type="text/javascript" src="{% static 'searcher/popper.js' %}"></script>
<script src="{% static 'searcher/js/bootstrap.min.js' %}"></script>
  <!--<script src="/static/searcher/js/jquery-ui.js"></script>-->
  <script
  src="https://code.jquery.com/ui/1.12.0/jquery-ui.min.js"
  integrity="sha256-eGE6blurk5sHj+rmkfsGYeKyZx3M4bG+ZlFyA7Kns7E="
  crossorigin="anonymous"></script>
<script src="{% static 'searcher/js/d3.min.js' %}"></script>
<script src="{% static 'searcher/js/three.min.js' %}"></script>
<script src="https://cdn.jsdelivr.net/npm/lodash@4.17.10/lodash.min.js"></script>
<script src="{% static 'searcher/bert_method.js' %}"></script>
<script>
  var navButtons = document.querySelectorAll('[data-bs-toggle = "tab"]');
  for(let i = 0; i < navButtons.length; i++){
    if(window.location.search == ""){
      navButtons[i].classList.remove('active');
    }
    else{
      var getParameter = window.location.search.substring(9);
      var toBeActive = document.getElementById(getParameter);
      toBeActive.classList.add('active');
    }
  }
</script>
{% endblock footer_javascript_page %}